<VirtualHost *:80>
    ServerName 52.6.125.198

    # serve frontend build
    DocumentRoot /home/ec2-user/CEG-7370-Project/phi-frontend/build
    <Directory /home/ec2-user/CEG-7370-Project/phi-frontend/build>
        Options Indexes FollowSymLinks
        AllowOverride All
        Require all granted
    </Directory>

    # proxy backend API
    ProxyPreserveHost On
    ProxyPass /api/ http://127.0.0.1:3001/
    ProxyPassReverse /api/ http://127.0.0.1:3001/

    ErrorLog /var/log/httpd/phi_error.log
    CustomLog /var/log/httpd/phi_access.log combined

    ProxyTimeout 300
</VirtualHost>
